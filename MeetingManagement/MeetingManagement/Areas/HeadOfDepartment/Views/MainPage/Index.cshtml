@model IEnumerable<MeetingManagement.Models.MEETING>
@{
        ViewBag.Title = "Index";
}
    <body>
        @*<div class="row" style="margin-bottom:15px;">
            <div class="col-sm-12">
                <div class="form-inline pull-right">
                    <label>Search</label>
                    <input type="text" class="form-control" id="txtSearch" />
                    <button type="button" class="btn btn-success" data-toggle="modal" onclick="getCreateModal()">Create New</button>
                </div>
            </div>
        </div>*@
        <div class="yuki-table-zone">
            <div class="yuki-table-title">
                <p>Cuộc Họp Chờ Duyệt</p>
            </div>
            <div class="yuki-table-out-header">
                <ul>
                    <li class="yuki-col1">
                        Danh mục
                        @*<button class="filter">
                            <img src="~/Content/outline_filter_alt_black_24dp.png">
                        </button>*@
                    </li>
                    <li class="yuki-col2">
                        Cuộc họp
                        @*<button class="filter">
                            <img src="~/Content/outline_filter_alt_black_24dp.png">
                        </button>*@
                    </li>
                    <li class="yuki-col3">
                        Người chủ trì
                        @*<button class="filter">
                            <img src="~/Content/outline_filter_alt_black_24dp.png">
                        </button>*@
                    </li>
                    <li class="yuki-col4">
                        Ngày tạo
                        @*<button class="filter">
                            <img src="~/Content/outline_filter_alt_black_24dp.png">
                        </button>*@
                    </li>
                </ul>
            </div>
            <table class="yuki-table">
                @foreach (var meeting in Model)
                {
                    if (meeting.Status == 1)
                    {
                        <tr onclick="getMeetingInfoModal()">
                            <td>@meeting.CATEGORY.Category_Name</td>
                            <td>@meeting.Meeting_name</td>
                            <td>Minh Hiếu</td>
                            <td>@meeting.Date_Create</td>
                        </tr>
                    }
                }
            </table>
        </div> <!---Table 1-->

        <div class="yuki-table-zone">
            <div class="yuki-table-title">
                <p>Cuộc Họp Chưa Hoàn Thành</p>
            </div>
            <div class="yuki-table-out-header">
                <ul>
                    <li class="yuki-col1">
                        Danh mục
                        @*<button class="filter">
                            <img src="~/Content/outline_filter_alt_black_24dp.png">
                        </button>*@
                    </li>
                    <li class="yuki-col2">
                        Cuộc họp
                        @*<button class="filter">
                            <img src="~/Content/outline_filter_alt_black_24dp.png">
                        </button>*@
                    </li>
                    <li class="yuki-col3">
                        Ngày đến hạn
                        @*<button class="filter">
                            <img src="~/Content/outline_filter_alt_black_24dp.png">
                        </button>*@
                    </li>
                    <li class="yuki-col4">
                        Tình trạng
                        @*<button class="filter">
                            <img src="~/Content/outline_filter_alt_black_24dp.png">
                        </button>*@
                    </li>
                </ul>
            </div>
            <table class="yuki-table">
                @foreach (var meeting in Model)
                {
                    <tr onclick="getMeetingInfoModal(@meeting.Meeting_id)">
                        <td>@meeting.CATEGORY.Category_Name</td>
                        <td>@meeting.Meeting_name</td>
                        <td>@meeting.Date_Start</td>
                        <td>@meeting.MEETING_STATUS.Status_name</td>
                    </tr>
                }
            </table>
        </div> <!---Table 2-->
        @*<div id="footer">
            <div class="pure-g footer-col">
                <div class="pure-u-1-3 ">
                    INFO
                    <p></p>
                </div>
                <div class="pure-u-1-3 "> CONTACT US </div>
                <div class="pure-u-1-3 "> GET SOCIAL </div>
            </div>
        </div>*@ <!--Footer-->
        <div id="Create-Modal"></div>
        <div id="MeetingInfo-Modal"></div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

        <script type="text/javascript">
            //$(document).ready(function () {
            //    getCreateModal()
            //});
            function getCreateModal() {
                $.ajax({
                    url: '@Url.Action("_Create", "MainPage")',
                    datatype: 'html',
                    method: 'GET',
                    data: {},
                    success: function (data) {
                        $("#Create-Modal").html(data);

                        $("#modalCreate").modal("show");
                    },
                    error: function (err) {
                        console.log(err);
                    }
                })
            }
            //$(document).ready(function () {
            //    $('div.table-zone table tr').on('click', function () {
            //        alert('Hello tui ne');
            //    })
            //})

            //var row = document.getElementsByClassName('tr-clickable');
            //$(row).on('click', function () {
            //    alert('tui ne ong');
            //});

            function getMeetingInfoModal(meetingID) {
                $.ajax({
                    url: '@Url.Action("_MeetingInfo", "MainPage")',
                    datatype: 'html',
                    method: 'GET',
                    data: { meetingID },
                    success: function (data) {
                        $("#MeetingInfo-Modal").html(data);

                        $("#modalMeetingInfo").modal("show");
                    },
                    error: function (err) {
                        console.log(err);
                    }
                })
            }
        </script>

        @*<div id="grdMeetingView"></div>*@
        @*@section scripts{
        <script type="text/javascript">
        $(document).ready(function () {
            $('#grdMeetingView').append('#myTable');
        });
            $(() => {
                getMeetings()
            });
            function getMeetings()
            {
                    $.ajax({
                        url: '@Url.Action("GetMeetings", "MainPage")',
                        datatype: 'html',
                        method: 'GET',
                        data: {  },
                        success: function (res) {
                            $('#grdUserView').html('').html(res);
                        },
                        error: function (err) {
                            console.log(err);
                        }
                    })
            }
        </script>}*@
    </body>
